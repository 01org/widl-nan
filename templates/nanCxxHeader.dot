{{ var guardName = it.name.toUpperCase(); }}
{{ var headerFileName = it.name.toLowerCase(); }}
{{
  var constCounter = 0;
  it.members.forEach(mem => {
    if (mem.type == 'const') {
      constCounter ++;
    }
  });
  var useImpl = (constCounter < it.members.length);
}}
#ifndef _NAN{{=guardName}}_H_
#define _NAN{{=guardName}}_H_
{{? useImpl}}
#include "{{=headerFileName}}.h"
{{?}}

class Nan{{=it.name}} : public Nan::ObjectWrap {
 public:
  static void Init(v8::Local<v8::Object> exports);

 private:
  explicit Nan{{=it.name}}();
  ~Nan{{=it.name}}();

{{#def.nanCxxHeaderProperty}}
{{#def.nanCxxHeaderMethod}}

  static Nan::Persistent<v8::Function> constructor;

{{? useImpl}}
 private:
  {{=it.name}}* impl_;
{{?}}

};

#endif // _NAN{{=guardName}}_H_
